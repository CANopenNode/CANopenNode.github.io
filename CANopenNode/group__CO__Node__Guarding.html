<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopenNode: Node Guarding CANopen Node Guarding, an older alternative to the Heartbeat protocol.</title>
<link rel="icon" href="CANopenNode.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="CANopenNode.png"/></td>
  <td id="projectalign">
   <div id="projectname">CANopenNode
   </div>
   <div id="projectbrief">CANopen protocol stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Node Guarding CANopen Node Guarding, an older alternative to the Heartbeat protocol.<div class="ingroups"><a class="el" href="group__CO__CANopen__301.html">CANopen_301</a></div></div></div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Node Guarding CANopen Node Guarding, an older alternative to the Heartbeat protocol.:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__CO__Node__Guarding.svg" width="380" height="80"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CO__Node__Guarding_8h.html">CO_Node_Guarding.h</a></td></tr>
<tr class="memdesc:CO__Node__Guarding_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">CANopen Node Guarding slave and master objects. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node Guarding slave object.  <a href="structCO__nodeGuardingSlave__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCO__nodeGuardingMasterNode__t.html">CO_nodeGuardingMasterNode_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node Guarding master - monitored node.  <a href="structCO__nodeGuardingMasterNode__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node Guarding master object.  <a href="structCO__nodeGuardingMaster__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad7a00807dd7ba272357a69cfbe8d85fc" id="r_gad7a00807dd7ba272357a69cfbe8d85fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532">CO_ReturnError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad7a00807dd7ba272357a69cfbe8d85fc">CO_nodeGuardingSlave_init</a> (<a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a> *ngs, <a class="el" href="structOD__entry__t.html">OD_entry_t</a> *OD_100C_GuardTime, <a class="el" href="structOD__entry__t.html">OD_entry_t</a> *OD_100D_LifeTimeFactor, <a class="el" href="structCO__EM__t.html">CO_EM_t</a> *em, <a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> CANidNodeGuarding, <a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *CANdevRx, <a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> CANdevRxIdx, <a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *CANdevTx, <a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> CANdevTxIdx, <a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> *errInfo)</td></tr>
<tr class="memdesc:gad7a00807dd7ba272357a69cfbe8d85fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Node Guarding slave object.  <br /></td></tr>
<tr class="separator:gad7a00807dd7ba272357a69cfbe8d85fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31c48ea1fac4c43cc7c4de167b9222f1" id="r_ga31c48ea1fac4c43cc7c4de167b9222f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga31c48ea1fac4c43cc7c4de167b9222f1">CO_nodeGuardingSlave_process</a> (<a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a> *ngs, <a class="el" href="group__CO__NMT__Heartbeat.html#ga1e8c2a6c0fd4a33183503d25a7c6d744">CO_NMT_internalState_t</a> NMTstate, <a class="el" href="group__CO__dataTypes.html#ga490ee355f57f2815cb1aa4626cf525f7">bool_t</a> slaveDisable, <a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> timeDifference_us, <a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> *timerNext_us)</td></tr>
<tr class="memdesc:ga31c48ea1fac4c43cc7c4de167b9222f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process Node Guarding slave.  <br /></td></tr>
<tr class="separator:ga31c48ea1fac4c43cc7c4de167b9222f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1917c432c2c0fbf66f5ed818b9568f4c" id="r_ga1917c432c2c0fbf66f5ed818b9568f4c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__CO__dataTypes.html#ga490ee355f57f2815cb1aa4626cf525f7">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1917c432c2c0fbf66f5ed818b9568f4c">CO_nodeGuardingSlave_isTimeout</a> (<a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a> *ngs)</td></tr>
<tr class="memdesc:ga1917c432c2c0fbf66f5ed818b9568f4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inquire, if Node guarding slave detected life time timeout.  <br /></td></tr>
<tr class="separator:ga1917c432c2c0fbf66f5ed818b9568f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac02e8cc43c1113cb96462a2f1ec7f9bd" id="r_gac02e8cc43c1113cb96462a2f1ec7f9bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532">CO_ReturnError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac02e8cc43c1113cb96462a2f1ec7f9bd">CO_nodeGuardingMaster_init</a> (<a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a> *ngm, <a class="el" href="structCO__EM__t.html">CO_EM_t</a> *em, <a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *CANdevRx, <a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> CANdevRxIdx, <a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *CANdevTx, <a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> CANdevTxIdx)</td></tr>
<tr class="memdesc:gac02e8cc43c1113cb96462a2f1ec7f9bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Node Guarding master object.  <br /></td></tr>
<tr class="separator:gac02e8cc43c1113cb96462a2f1ec7f9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7ad06151d630c832bcca3d1cd434ce8" id="r_gaf7ad06151d630c832bcca3d1cd434ce8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532">CO_ReturnError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf7ad06151d630c832bcca3d1cd434ce8">CO_nodeGuardingMaster_initNode</a> (<a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a> *ngm, <a class="el" href="group__CO__dataTypes.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> index, <a class="el" href="group__CO__dataTypes.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> nodeId, <a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> guardTime_ms)</td></tr>
<tr class="memdesc:gaf7ad06151d630c832bcca3d1cd434ce8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize node inside Node Guarding master object.  <br /></td></tr>
<tr class="separator:gaf7ad06151d630c832bcca3d1cd434ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31bd50f6b2f919aa3dc5237376f1690f" id="r_ga31bd50f6b2f919aa3dc5237376f1690f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga31bd50f6b2f919aa3dc5237376f1690f">CO_nodeGuardingMaster_process</a> (<a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a> *ngm, <a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> timeDifference_us, <a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> *timerNext_us)</td></tr>
<tr class="memdesc:ga31bd50f6b2f919aa3dc5237376f1690f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process Node Guarding master.  <br /></td></tr>
<tr class="separator:ga31bd50f6b2f919aa3dc5237376f1690f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Node guarding master pools each node guarding slave at time intervals, called guard time. Master sends a CAN RTR message, and slave responds. Slave also monitors presence of RTR message from master and indicates error, if it wasn't received within life time. ('Life time' is 'Guard time' multiplied by 'Life time factor').</p>
<p>Adding Node guarding to the project:</p><ul>
<li>Make sure, driver supports it. RTR bit should be part of CAN identifier.</li>
<li>Enable it with 'CO_CONFIG_NODE_GUARDING', see <a class="el" href="CO__config_8h.html" title="Configuration macros for CANopenNode.">CO_config.h</a></li>
<li>For slave add 0x100C and 0x100D objects to the Object dictionary.</li>
<li>For master use <a class="el" href="#gaf7ad06151d630c832bcca3d1cd434ce8" title="Initialize node inside Node Guarding master object.">CO_nodeGuardingMaster_initNode()</a> to add monitored nodes.</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>Usage of Node guarding is not recommended, as it is outdated and uses RTR CAN functionality, which is also not recommended. Use Heartbeat and Heartbeat consumer, if possible.</dd></dl>
<h3><a class="anchor" id="autotoc_md139"></a>
Node Guarding slave response message contents:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Byte, bits   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0, bits 0..6   </td><td class="markdownTableBodyNone"><a class="el" href="group__CO__NMT__Heartbeat.html#ga1e8c2a6c0fd4a33183503d25a7c6d744">CO_NMT_internalState_t</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0, bit 7   </td><td class="markdownTableBodyNone">toggle bit   </td></tr>
</table>
<p>See <a class="el" href="group__CO__Default__CAN__ID__t.html">Default CANopen identifiers</a> for CAN identifiers. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad7a00807dd7ba272357a69cfbe8d85fc" name="gad7a00807dd7ba272357a69cfbe8d85fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7a00807dd7ba272357a69cfbe8d85fc">&#9670;&#160;</a></span>CO_nodeGuardingSlave_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532">CO_ReturnError_t</a> CO_nodeGuardingSlave_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ngs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOD__entry__t.html">OD_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>OD_100C_GuardTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structOD__entry__t.html">OD_entry_t</a> *</td>          <td class="paramname"><span class="paramname"><em>OD_100D_LifeTimeFactor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCO__EM__t.html">CO_EM_t</a> *</td>          <td class="paramname"><span class="paramname"><em>em</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>CANidNodeGuarding</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CANdevRx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>CANdevRxIdx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CANdevTx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>CANdevTxIdx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> *</td>          <td class="paramname"><span class="paramname"><em>errInfo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Node Guarding slave object. </p>
<p>Function must be called in the communication reset section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ngs</td><td>This object will be initialized. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">OD_100C_GuardTime</td><td>OD entry for 0x100C -"Guard time", entry is required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">OD_100D_LifeTimeFactor</td><td>OD entry for 0x100D -"Life time factor", entry is required. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">em</td><td>Emergency object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">CANidNodeGuarding</td><td>CAN identifier for Node Guarding rtr and response message (usually CO_CAN_ID_HEARTBEAT + nodeId). </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">CANdevRx</td><td>CAN device for Node Guarding rtr reception. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">CANdevRxIdx</td><td>Index of the receive buffer in the above CAN device. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">CANdevTx</td><td>CAN device for Node Guarding response transmission. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">CANdevTxIdx</td><td>Index of the transmit buffer in the above CAN device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">errInfo</td><td>Additional information in case of error, may be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532" title="Return values of some CANopen functions.">CO_ReturnError_t</a> CO_ERROR_NO on success. </dd></dl>

</div>
</div>
<a id="ga31c48ea1fac4c43cc7c4de167b9222f1" name="ga31c48ea1fac4c43cc7c4de167b9222f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31c48ea1fac4c43cc7c4de167b9222f1">&#9670;&#160;</a></span>CO_nodeGuardingSlave_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CO_nodeGuardingSlave_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ngs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__NMT__Heartbeat.html#ga1e8c2a6c0fd4a33183503d25a7c6d744">CO_NMT_internalState_t</a></td>          <td class="paramname"><span class="paramname"><em>NMTstate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga490ee355f57f2815cb1aa4626cf525f7">bool_t</a></td>          <td class="paramname"><span class="paramname"><em>slaveDisable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>timeDifference_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> *</td>          <td class="paramname"><span class="paramname"><em>timerNext_us</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process Node Guarding slave. </p>
<p>Function must be called cyclically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ngs</td><td>This object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">NMTstate</td><td>NMT operating state. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">slaveDisable</td><td>If true, then Node guarding slave is disabled. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">timeDifference_us</td><td>Time difference from previous function call in microseconds. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timerNext_us</td><td>info to OS - see <a class="el" href="group__CO__CANopen.html#ga895d7fad40b60aacdac3cb0615729b5e" title="Process CANopen objects.">CO_process()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1917c432c2c0fbf66f5ed818b9568f4c" name="ga1917c432c2c0fbf66f5ed818b9568f4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1917c432c2c0fbf66f5ed818b9568f4c">&#9670;&#160;</a></span>CO_nodeGuardingSlave_isTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__CO__dataTypes.html#ga490ee355f57f2815cb1aa4626cf525f7">bool_t</a> CO_nodeGuardingSlave_isTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCO__nodeGuardingSlave__t.html">CO_nodeGuardingSlave_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ngs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inquire, if Node guarding slave detected life time timeout. </p>
<p>Error is reset after pool request from master.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ngs</td><td>This object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if life time timeout was detected. </dd></dl>

</div>
</div>
<a id="gac02e8cc43c1113cb96462a2f1ec7f9bd" name="gac02e8cc43c1113cb96462a2f1ec7f9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac02e8cc43c1113cb96462a2f1ec7f9bd">&#9670;&#160;</a></span>CO_nodeGuardingMaster_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532">CO_ReturnError_t</a> CO_nodeGuardingMaster_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ngm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCO__EM__t.html">CO_EM_t</a> *</td>          <td class="paramname"><span class="paramname"><em>em</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CANdevRx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>CANdevRxIdx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCO__CANmodule__t.html">CO_CANmodule_t</a> *</td>          <td class="paramname"><span class="paramname"><em>CANdevTx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>CANdevTxIdx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Node Guarding master object. </p>
<p>Function must be called in the communication reset section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ngm</td><td>This object will be initialized. </td></tr>
    <tr><td class="paramname">em</td><td>Emergency object. </td></tr>
    <tr><td class="paramname">CANdevRx</td><td>CAN device for Node Guarding reception. </td></tr>
    <tr><td class="paramname">CANdevRxIdx</td><td>Index of the receive buffer in the above CAN device. </td></tr>
    <tr><td class="paramname">CANdevTx</td><td>CAN device for Node Guarding rtr transmission. </td></tr>
    <tr><td class="paramname">CANdevTxIdx</td><td>Index of the transmit buffer in the above CAN device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532" title="Return values of some CANopen functions.">CO_ReturnError_t</a> CO_ERROR_NO on success. </dd></dl>

</div>
</div>
<a id="gaf7ad06151d630c832bcca3d1cd434ce8" name="gaf7ad06151d630c832bcca3d1cd434ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7ad06151d630c832bcca3d1cd434ce8">&#9670;&#160;</a></span>CO_nodeGuardingMaster_initNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532">CO_ReturnError_t</a> CO_nodeGuardingMaster_initNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ngm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#gaba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>          <td class="paramname"><span class="paramname"><em>nodeId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>guardTime_ms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize node inside Node Guarding master object. </p>
<p>Function may be called any time after <a class="el" href="#gac02e8cc43c1113cb96462a2f1ec7f9bd" title="Initialize Node Guarding master object.">CO_nodeGuardingMaster_init()</a>. It configures monitoring of the remote node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ngm</td><td>Node Guarding master object. </td></tr>
    <tr><td class="paramname">index</td><td>Index of the slot, which will be configured. 0 &lt;= index &lt; CO_CONFIG_NODE_GUARDING_MASTER_COUNT. </td></tr>
    <tr><td class="paramname">nodeId</td><td>Node Id of the monitored node. </td></tr>
    <tr><td class="paramname">guardTime_ms</td><td>Guard time of the monitored node.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__CO__driver.html#ga1cb2d3466eb0c6d267f3b5ff1a0d9532" title="Return values of some CANopen functions.">CO_ReturnError_t</a> CO_ERROR_NO on success. </dd></dl>

</div>
</div>
<a id="ga31bd50f6b2f919aa3dc5237376f1690f" name="ga31bd50f6b2f919aa3dc5237376f1690f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31bd50f6b2f919aa3dc5237376f1690f">&#9670;&#160;</a></span>CO_nodeGuardingMaster_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CO_nodeGuardingMaster_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCO__nodeGuardingMaster__t.html">CO_nodeGuardingMaster_t</a> *</td>          <td class="paramname"><span class="paramname"><em>ngm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>timeDifference_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__CO__dataTypes.html#ga33594304e786b158f3fb30289278f5af">uint32_t</a> *</td>          <td class="paramname"><span class="paramname"><em>timerNext_us</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process Node Guarding master. </p>
<p>Function must be called cyclically.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ngm</td><td>This object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">timeDifference_us</td><td>Time difference from previous function call in microseconds. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timerNext_us</td><td>info to OS - see <a class="el" href="group__CO__CANopen.html#ga895d7fad40b60aacdac3cb0615729b5e" title="Process CANopen objects.">CO_process()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
