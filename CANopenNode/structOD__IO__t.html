<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopenNode: OD_IO_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="CANopenNode.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANopenNode
   </div>
   <div id="projectbrief">CANopen protocol stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">OD_IO_t Struct Reference<div class="ingroups"><a class="el" href="group__CO__CANopen__301.html">CANopen_301</a> &raquo; <a class="el" href="group__CO__ODinterface.html">OD interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Structure for input / output on the OD variable.  
 <a href="structOD__IO__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CO__ODinterface_8h_source.html">CO_ODinterface.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for OD_IO_t:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structOD__IO__t__coll__graph.svg" width="118" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a7f31cae6c859c2a2eaf2610b65fd6626"><td class="memItemLeft" align="right" valign="top"><a id="a7f31cae6c859c2a2eaf2610b65fd6626"></a>
<a class="el" href="structOD__stream__t.html">OD_stream_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOD__IO__t.html#a7f31cae6c859c2a2eaf2610b65fd6626">stream</a></td></tr>
<tr class="memdesc:a7f31cae6c859c2a2eaf2610b65fd6626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object Dictionary stream object, passed to read or write. <br /></td></tr>
<tr class="separator:a7f31cae6c859c2a2eaf2610b65fd6626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c544ba658503d8568324ee3f2616ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__CO__ODinterface.html#ga0e9afd8ad27de0920d1fe0738834869c">ODR_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOD__IO__t.html#ae8c544ba658503d8568324ee3f2616ba">read</a> )(<a class="el" href="structOD__stream__t.html">OD_stream_t</a> *<a class="el" href="structOD__IO__t.html#a7f31cae6c859c2a2eaf2610b65fd6626">stream</a>, void *buf, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> count, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> *countRead)</td></tr>
<tr class="memdesc:ae8c544ba658503d8568324ee3f2616ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer for reading value from specified variable from Object Dictionary.  <a href="structOD__IO__t.html#ae8c544ba658503d8568324ee3f2616ba">More...</a><br /></td></tr>
<tr class="separator:ae8c544ba658503d8568324ee3f2616ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8a5fd5d118265a55f1ae003667abad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__CO__ODinterface.html#ga0e9afd8ad27de0920d1fe0738834869c">ODR_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOD__IO__t.html#abc8a5fd5d118265a55f1ae003667abad">write</a> )(<a class="el" href="structOD__stream__t.html">OD_stream_t</a> *<a class="el" href="structOD__IO__t.html#a7f31cae6c859c2a2eaf2610b65fd6626">stream</a>, const void *buf, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> count, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> *countWritten)</td></tr>
<tr class="memdesc:abc8a5fd5d118265a55f1ae003667abad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer for writing value into specified variable inside Object Dictionary.  <a href="structOD__IO__t.html#abc8a5fd5d118265a55f1ae003667abad">More...</a><br /></td></tr>
<tr class="separator:abc8a5fd5d118265a55f1ae003667abad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structure for input / output on the OD variable. </p>
<p>It is initialized with <a class="el" href="group__CO__ODinterface.html#gaa2f391591c6bc2571841860ff78f72ce">OD_getSub()</a> function. Access principle to OD variable is via read/write functions operating on stream, similar as standard read/write. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ae8c544ba658503d8568324ee3f2616ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c544ba658503d8568324ee3f2616ba">&#9670;&nbsp;</a></span>read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CO__ODinterface.html#ga0e9afd8ad27de0920d1fe0738834869c">ODR_t</a>(* OD_IO_t::read) (<a class="el" href="structOD__stream__t.html">OD_stream_t</a> *<a class="el" href="structOD__IO__t.html#a7f31cae6c859c2a2eaf2610b65fd6626">stream</a>, void *buf, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> count, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> *countRead)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer for reading value from specified variable from Object Dictionary. </p>
<p>If OD variable is larger than buf, then this function must be called several times. After completed successful read function returns 'ODR_OK'. If read is partial, it returns 'ODR_PARTIAL'. In case of errors function returns code similar to SDO abort code.</p>
<p>Read can be restarted with <a class="el" href="group__CO__ODinterface.html#ga3715e0a6b15bdf45659e1e01f9fc4e65">OD_rwRestart()</a> function.</p>
<p>At the moment, when Object Dictionary is initialized, every variable has assigned the same "read" function. This default function simply copies data from Object Dictionary variable. Application can bind its own "read" function for specific object. In that case application is able to calculate data for reading from own internal state at the moment of "read" function call. Own "read" function on OD object can be initialized with <a class="el" href="group__CO__ODinterface.html#ga41c96feee5da30cd9117a35a307b96e1">OD_extension_init()</a> function.</p>
<p>"read" function must always copy all own data to buf, except if "buf" is not large enough. ("*returnCode" must not return 'ODR_PARTIAL', if there is still space in "buf".)</p>
<dl class="section warning"><dt>Warning</dt><dd>When accessing OD variables by calling the <a class="el" href="structOD__IO__t.html#ae8c544ba658503d8568324ee3f2616ba" title="Function pointer for reading value from specified variable from Object Dictionary.">read()</a> function, it may be necessary to use <a class="el" href="group__CO__critical__sections.html#gae91e416633b4df1800e97a2bc02bbeb4">CO_LOCK_OD()</a> and <a class="el" href="group__CO__critical__sections.html#ga37d2c1496e5304faf5f0670ef33a4704">CO_UNLOCK_OD()</a> macros. See <a class="el" href="group__CO__critical__sections.html">Critical sections</a> for more information.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">stream</td><td>Object Dictionary stream object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">buf</td><td>Pointer to external buffer, where to data will be copied. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">count</td><td>Size of the external buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">countRead</td><td>If return value is "ODR_OK" or "ODR_PARTIAL", then number of bytes successfully read must be returned here.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value from <a class="el" href="group__CO__ODinterface.html#ga0e9afd8ad27de0920d1fe0738834869c">ODR_t</a>, "ODR_OK" in case of success. </dd></dl>

</div>
</div>
<a id="abc8a5fd5d118265a55f1ae003667abad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8a5fd5d118265a55f1ae003667abad">&#9670;&nbsp;</a></span>write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__CO__ODinterface.html#ga0e9afd8ad27de0920d1fe0738834869c">ODR_t</a>(* OD_IO_t::write) (<a class="el" href="structOD__stream__t.html">OD_stream_t</a> *<a class="el" href="structOD__IO__t.html#a7f31cae6c859c2a2eaf2610b65fd6626">stream</a>, const void *buf, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> count, <a class="el" href="group__CO__ODinterface.html#gaadf3e12bc9179030777eb4041fbf13ae">OD_size_t</a> *countWritten)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer for writing value into specified variable inside Object Dictionary. </p>
<p>If OD variable is larger than buf, then this function must be called several times. After completed successful write function returns 'ODR_OK'. If write is partial, it returns 'ODR_PARTIAL'. In case of errors function returns code similar to SDO abort code.</p>
<p>Write can be restarted with <a class="el" href="group__CO__ODinterface.html#ga3715e0a6b15bdf45659e1e01f9fc4e65">OD_rwRestart()</a> function.</p>
<p>At the moment, when Object Dictionary is initialized, every variable has assigned the same "write" function, which simply copies data to Object Dictionary variable. Application can bind its own "write" function, similar as it can bind "read" function.</p>
<p>"write" function must always copy all available data from buf. If OD variable expect more data, then "*returnCode" must return 'ODR_PARTIAL'.</p>
<dl class="section warning"><dt>Warning</dt><dd>When accessing OD variables by calling the <a class="el" href="structOD__IO__t.html#ae8c544ba658503d8568324ee3f2616ba" title="Function pointer for reading value from specified variable from Object Dictionary.">read()</a> function, it may be necessary to use <a class="el" href="group__CO__critical__sections.html#gae91e416633b4df1800e97a2bc02bbeb4">CO_LOCK_OD()</a> and <a class="el" href="group__CO__critical__sections.html#ga37d2c1496e5304faf5f0670ef33a4704">CO_UNLOCK_OD()</a> macros. See <a class="el" href="group__CO__critical__sections.html">Critical sections</a> for more information.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">stream</td><td>Object Dictionary stream object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">buf</td><td>Pointer to external buffer, from where data will be copied. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">count</td><td>Size of the external buffer in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">countWritten</td><td>If return value is "ODR_OK" or "ODR_PARTIAL", then number of bytes successfully written must be returned here.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value from <a class="el" href="group__CO__ODinterface.html#ga0e9afd8ad27de0920d1fe0738834869c">ODR_t</a>, "ODR_OK" in case of success. </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>301/<a class="el" href="CO__ODinterface_8h_source.html">CO_ODinterface.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
